import{D as b,w as p,ah as H,m as W,j as e,ai as K,aj as U,ak as x,e as I,E as F,al as V,a9 as w,a as Z,am as X,an as N,ao as ee,z as Q,a4 as j,ap as J,x as ae,aq as T,ar as se,a3 as te,T as A,a5 as ne,ac as oe,f as ie,S as ce,as as S,O as re}from"./vendor-BlYRANeV.js";import{d as le,g as me,e as E,f as P,i as $,u as k,B as ge,I as de}from"./index-BCqpSD-Y.js";import{u as pe,h as q,A as he,a as R,B as ue,S as fe,b as Ce,c as xe,d as Ae,e as Se,f as be,g as _e,i as ve,C as we,j as ke,k as Ie,l as je,m as Ee,n as ye,o as Be,p as Ne,q as Te,r as Pe,s as $e,t as Re,v as Le,w as Me,D as De,x as Oe,y as Ue,z as Fe,E as Qe,F as Je,G as qe,H as ze,I as Ye,J as Ge,K as He,L as We,M as Ke,N as Ve,O as Ze,P as Xe,Q as ea,R as aa,T as sa,U as ta,V as na,W as oa,X as ia,Y as ca,Z as ra,_ as la,$ as ma,a0 as ga,a1 as da,a2 as pa,a3 as ha,a4 as ua,a5 as fa,a6 as Ca,a7 as xa,a8 as Aa,a9 as Sa,aa as ba,ab as _a,ac as va,ad as wa,ae as ka,af as Ia,ag as ja,ah as Ea,ai as ya,aj as Ba,ak as Na,al as Ta,am as Pa,an as $a,ao as Ra,ap as La,aq as Ma,ar as Da,as as Oa,at as Ua,au as Fa,av as Qa,aw as Ja,ax as qa,ay as za,az as Ya,aA as Ga,aB as Ha,aC as Wa,aD as Ka,aE as Va,aF as Za,aG as Xa,aH as es,aI as as,aJ as ss,aK as ts,aL as ns,aM as os,aN as is,aO as cs,aP as rs,aQ as ls,aR as ms,aS as gs,aT as ds,aU as ps,aV as hs,aW as us,aX as fs,aY as Cs,aZ as xs,a_ as As,a$ as Ss,b0 as bs,b1 as _s,b2 as vs,b3 as ws,b4 as ks,b5 as Is,b6 as js,b7 as Es,b8 as ys,b9 as Bs,ba as Ns,bb as Ts,bc as Ps,bd as $s,be as Rs,bf as Ls,bg as Ms,bh as Ds,bi as Os,bj as Us,bk as Fs,bl as Qs,bm as Js,bn as qs,bo as zs,bp as Ys}from"./index-B3vXDUsi.js";import"./config-De6rmCc8.js";const Gs=()=>{const s=le.get("selectedElementId")||"",{elements:t,editElement:i,elementsMap:o}=window.usePageStore(b(a=>{const{selectPageItem:c,page:m}=a,r=m[(c==null?void 0:c.id)||""]||{},d=me(r.elements,s);return{config:r.config||{},elements:(d==null?void 0:d.elements)||[],editElement:a.editElement,elementsMap:r.elementsMap||{}}})),{config:n}=pe(a=>({config:a.page.config}));return p.useEffect(()=>{var c,m,r;const{style:a}=n;if(a){const d=(r=(m=(c=o[s])==null?void 0:c.config)==null?void 0:m.props)==null?void 0:r.subModule,g=H(W(d),a);i({id:s,type:"props",props:{subModule:g}})}},[n.style]),p.useEffect(()=>{var a;(a=n.events)==null||a.forEach(c=>{var m;((m=c.actions)==null?void 0:m.length)>0&&q(c.actions,{})})},[]),e.jsx(he,{inner:!1,elements:t||[]})},Hs=()=>{window.AppsRender=window.AppsRender||R;const{config:s,elements:t}=window.usePageStore(b(i=>{const{selectPageItem:o,page:n}=i,a=n[(o==null?void 0:o.id)||""]||{};return{config:a.config,elements:a.elements}}));return p.useEffect(()=>{var i;(i=s==null?void 0:s.events)==null||i.forEach(o=>{var n;((n=o.actions)==null?void 0:n.length)>0&&q(o.actions,{})})},[]),e.jsx(e.Fragment,{children:e.jsx(R,{inner:!1,elements:t||[]})})},Ws=Object.freeze(Object.defineProperty({__proto__:null,BarChart:ue,BarChartConfig:fe,BigScreenContainer:Ce,BigScreenContainerConfig:xe,BigScreenContainerNew:Ae,BigScreenContainerNewConfig:Se,BuCompsEditorPage:Hs,BuCompsEditorPageConfig:be,Button:_e,ButtonConfig:ve,Card:we,CardConfig:ke,Carousel:Ie,CarouselConfig:je,Cascader:Ee,CascaderConfig:ye,CheckBox:Be,CheckBoxConfig:Ne,Col:Te,ColConfig:Pe,ColumnChart:$e,ColumnChartConfig:Re,Combine:Le,CombineConfig:Me,DatePicker:De,DatePickerConfig:Oe,DatePickerRange:Ue,DatePickerRangeConfig:Fe,Datetime:Qe,DatetimeConfig:Je,Descriptions:qe,DescriptionsConfig:ze,Div:Ye,DivConfig:Ge,Divider:He,DividerConfig:We,Drawer:Ke,DrawerConfig:Ve,Dropdown:Ze,DropdownConfig:Xe,EditTable:ea,EditTableConfig:aa,EditorPage:sa,EditorPageConfig:ta,Empty:na,EmptyConfig:oa,FileUpload:ia,FileUploadConfig:ca,FilterList:ra,FilterListConfig:la,Flex:ma,FlexConfig:ga,Form:da,FormConfig:pa,FormItem:ha,FormItemConfig:ua,FormList:fa,FormListConfig:Ca,HMIContainer:xa,HMIContainerConfig:Aa,IFrame:Sa,IFrameConfig:ba,Image:_a,ImageConfig:va,Input:wa,InputConfig:ka,InputNumber:Ia,InputNumberConfig:ja,InputOTP:Ea,InputOTPConfig:ya,InputPassword:Ba,InputPasswordConfig:Na,LineChart:Ta,LineChartConfig:Pa,Link:$a,LinkConfig:Ra,LiquidChart:La,LiquidChartConfig:Ma,List:Da,ListConfig:Oa,ListContainer:Ua,ListContainerConfig:Fa,MarsTable:Qa,MarsTableConfig:Ja,Modal:qa,ModalConfig:za,PieChart:Ya,PieChartConfig:Ga,Progress:Ha,ProgressConfig:Wa,Radio:Ka,RadioConfig:Va,Result:Za,ResultConfig:Xa,RingProgress:es,RingProgressConfig:as,Row:ss,RowConfig:ts,SearchForm:ns,SearchFormConfig:os,Segmented:is,SegmentedConfig:cs,Select:rs,SelectConfig:ls,Slider:ms,SliderConfig:gs,Space:ds,SpaceConfig:ps,StaticItem:hs,StaticItemConfig:us,StatisticCount:fs,StatisticCountConfig:Cs,Steps:xs,StepsConfig:As,SubEditorPage:Gs,SubEditorPageConfig:Ss,Switch:bs,SwitchConfig:_s,Tab:vs,TabConfig:ws,Tabs:ks,TabsConfig:Is,Text:js,TextArea:Es,TextAreaConfig:ys,TextConfig:Bs,TimePicker:Ns,TimePickerConfig:Ts,TimePickerRange:Ps,TimePickerRangeConfig:$s,TinyColumn:Rs,TinyColumnConfig:Ls,TinyLine:Ms,TinyLineConfig:Ds,Title:Os,TitleConfig:Us,TopoContainer:Fs,TopoContainerConfig:Qs,TreeSelect:Js,TreeSelectConfig:qs,Upload:zs,UploadConfig:Ys},Symbol.toStringTag,{value:"Module"})),Ks={"chint-menu":"_chint-menu_ej4z0_1"},Vs=({title:s,lv:t,hasChild:i})=>{const o=p.useRef(null),[n,a]=p.useState(!1);return p.useEffect(()=>{const c=()=>{o.current&&a(o.current.scrollWidth>o.current.offsetWidth)};return c(),window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)},[]),e.jsx(K,{title:n?s:"",placement:"right",children:e.jsx("span",{ref:o,className:`block w-[140px] overflow-hidden whitespace-nowrap text-ellipsis ${t===0?"text-18px":"text-16px"}`,children:s})})};function z(s,t=0){var o;const i=[];for(const n of s){const a={label:n.title,key:n.key,children:(o=n.children)!=null&&o.length?z(n.children,t+1):void 0,popupClassName:"chint-admin-popup-menu",icon:e.jsx(e.Fragment,{})};n.icon&&t===0&&(a.icon=e.jsx(w,{name:n.icon})),a!=null&&a.label&&typeof a.label=="string"&&(a.label=e.jsx(Vs,{title:a.label,lv:t,hasChild:!!(a!=null&&a.children)})),a&&i.push(a)}return i}function Zs(s){const{pageId:t}=U(),{setSelectPageItem:i,menuOutline:o}=E(b(l=>({setSelectPageItem:l.setSelectPageItem,menuOutline:l.menuOutline}))),n=x(),a=I(),c=p.useMemo(()=>z(o||[]),[o]),m=P(o,t||""),[r,d]=p.useState([m]);p.useEffect(()=>{if(o===null||!t)return;if(!$(o,t)){n("/403");return}const l=P(o,t||"");d([l]),i({id:t,title:""})},[t]);function g(l){d(l)}p.useEffect(()=>{if(o===null){n("/403");return}if($(o,t))return;let h,f=o[0];if(f){for(;;)if(f.children&&f.children.length>0)f=f.children[0],r.push(f.key);else{h=f.key;break}if(h!==t)if(s.isApp)n(`/page/${h}`);else{const{pathname:G,search:y}=a;let B=`${G.split("/").slice(0,3).join("/")}/${h}`;y&&(B+=y),n(B)}}},[o]);const u=l=>{s.click&&s.click(l)};return e.jsx(F,{theme:{components:{Menu:{activeBarBorderWidth:0,fontSize:16,collapsedWidth:120}}},children:e.jsx(V,{className:`${Ks["chint-menu"]}`,mode:"inline",selectedKeys:[t||""],openKeys:r,onOpenChange:l=>g(l),items:c||[],onClick:u})})}function Xs(s){return e.jsx(Zs,{...s})}function et(){const{t:s}=Z(),{pathname:t}=I(),[i,o]=p.useState([]),{menuOutline:n}=E(a=>({menuOutline:a.menuOutline}));return p.useEffect(()=>{function a(c,m){for(const r of m){if(`/page/${r.key}`===c)return[{title:s(r.title??"")}];if(!N(r.children)){const d=a(c,r.children);if(!N(d)){const g=[...d];return r.title&&g.unshift({title:s(r.title),path:r.key}),g}}}return[]}o(a(t,n))},[n,t,s]),e.jsx(X,{items:i})}const at="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAAAfCAYAAAAr+xVgAAAABHNCSVQICAgIfAhkiAAABThJREFUaEPtW11SE0EQ7kHLklJKfNCCJ+EEQpX4auIFxBMAJ5BwAfECBE5gOIHxAhJfwSrDCYxP+PMSSiytEhi/XnbXZdnZ7t0NMVkyVSl+0jPbP9909/T0GoqNqbqtGKJn+HcFn7n491n+tkQd0Lfw2f5SM/wzcUzX7UfHs7pYYx5zeZ3M41dlbuZ47EYd8iyem2xt21pbm2h9CHmC3DOg2QEt/4yOprXU/LJmtjMz4E+AfKv4te6YXzuomU3+7n7dLl4jepP3OTnneTqG3Gdjsm4nx4le4ldmuucDD2v9JnrerZludPF7dTt3nYiB4BqhorIydfT0EWQZSzQAjPt2Ymc3BIi/AXZczwD/DQByJSsPTD+1YVvG0JOkueDjPUBW8ejqdh0GYRv0dUC2Vx4QfBCwEgp5AAX33V9Es1EwKAzwCgZYV6x9geRHdQEGMIkGYOLb73bDjSDxwfR5wTA0QJjesJtk6EUeZeeY04YrnA/mSQZgtA4KEHwwZOZnKIAgGSKHocUpMO4KjNvw3SHnJGkuObPiAwZ67RGCdU8Q4r7VTFMU1CcYDiBs2Abi15JWqB7RhV5BAmIRj3BUXWiQMYmyWbKHE+/2JrWeKSZ395io+r1m2hp9aIHwP5JF5CiHJ4YqJiVjP5MRSdWxoXW10GfZ97KU9CA8ePH5MoHws/J40Y45snBrt2/v7C3nBALnCx0kv/Px5DcJGFogaECl5Rf8VdNOavFnMRAwJ3ngm8/IaNmwmQeET/U02FHzDK7LBAIzzWA4HTufBBuynVunf5qm1Q5PMBIfDgWcy3dcShp6IAD2WwdrJtdxEoplr/DaCTIfsZIBioSGLOiV+EiRQzxWDj0QihhBUmzguhR0uZPFfgDhLHr+S37LGRoKHN2kQhGUN8sVwzIAwQeDMyZfaY/AymEwoGQaZuaR3dIJysYKIHQwjz+9Hlz2bgSLSnxg2++j1vIwhQlnOfzKA0FjOdEAmkXy0XRxcrmrBQKHMoBh3VUq9tdpo3JajZ8kRkBQGOg/AoGCIyyzKfHBQMBxsT1ucYmW7hmaWPd5VPQREEoGBD6Xe+EOYIBnuOMUL3baGgGhhEDQeI/4SWIEhJICgcUSegyYJCxDX3kgQAFLiKczcTycEu0HlzZibLa0jTXC7F6BrZDEWOJbVWemnzVHiJdspeopg4Gv3W+isUXTj5BFNlFvPS0xF6gjSIz2o8ScthNZ6UWB4HmGDdsWkkd0Q9HhCAgOmPejstgPIHBTD3Z8JzV5TNnq0Q6lK+kRygIENp7qJOHaEJFWtVICQbpbLxMQ/JNE6iWby8hD4RHAvOqaNUlIqf2tbEDwwZC5+XRggIA4yvHtgQuxp5ZWv66ZrSxuS/IG0URNSioL3YCmdA/3KlmM6wUboInkkV8HUI1BAoKqVY3b0TWSoQeBO6GTLprC6dGGl7IBwesIl8vQUV2E7ewa/QY0Cr1l61CSFszCnJY2usul5w+bR/BDxAwuqNqak8TAeASPccGFag2soeMz9W8UmYIbujICwQdDand2oKuBAkLRs7AGAEwTdMxGG2HLCgQfDOJJYqCAELgzlGQ50UlrvtDa/AJdEgg0O2cYQ0NUeKkMPXBAiCQhywDEaq8AwYkh3xXgLn/T1foNZXVd8TQoRedBYNrFUNwA/BIsEt1PSc9hEEOGubwv43qnKDS1JOo0Z4NwWitgPPxqdBe++5dEzG5bs4iLRttX74Wm5Pcuw5a2vHy42uWSeGMw4Dn8OTe4IUXz/oLEY5KcWh057NMzfv8Cv52yjUIDQzUAAAAASUVORK5CYII=",st="_logoWrapper_1s2yr_7",tt="_divider_1s2yr_18",nt="_appTitle_1s2yr_29",_={logoWrapper:st,divider:tt,appTitle:nt},ot=window.$translation;function it(s){const{appInfo:t}=s,i=(t==null?void 0:t.title)||ot("common.systemName",{ns:"buildIn"}),o=(t==null?void 0:t.logo)||at;return e.jsxs("div",{className:_.logoWrapper,children:[e.jsx("img",{className:"w-66px h-24px",src:o}),e.jsx("div",{className:_.divider}),e.jsx(ee.Text,{className:_.appTitle,children:i})]})}const ct="/app/assets/png/avatar-dFZpuTqd.png";function rt(s){const{t}=Q(),i=x();async function o(){var c;let a=!0;s.logout&&(a=await s.logout().catch(m=>{console.error("logout api failed",m)})),a&&((c=window.$message)==null||c.success(t("dp.login.logoutSuccess")),i("/login",{replace:!0}))}const n=[{key:"1",label:t("apl.personalCenter"),onClick:()=>{i("/page/personalCenter")}},{key:"2",label:t("personal.loginOut"),onClick:o}];return e.jsx(j,{menu:{items:n},placement:"bottom",arrow:{pointAtCenter:!0},children:e.jsx(J,{src:ct,className:"cursor-pointer w-10 h-10"})})}const v=ae({setMessageReadApi:{method:"post",url:"/message/read"},getUnReadListApi:{method:"get",url:"/message/list"}},{baseURL:"/microApp",headers:{"Content-Type":"application/json"}}),lt="/app/assets/png/messageIcon-LFxfX6QR.png",mt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAcCAYAAAAAwr0iAAAAAXNSR0IArs4c6QAAAohJREFUSEu1lT1oE2EYx//PvZcKJcWuRboUlSAOQmkvYHFRXJzaapIqDk4BXaxIsS66WL+wToIFFXEwd9U4dRG/JjFJqVshojgo6CD4gRLR3HuPXIIhn3fvG+NtCf/39/x47p83hC4faY+nPaJZgH4TYdFM5G53g6JuDrm2dQREtxrPegfNZCGjy9MW4MzYsDTEawAbGodxSXhejGZW3+tIaAu4TvwBgMn2QzhrJvP7/5tAOTO2mwzxOGgAe3JPZGb1iaqE8gZ4aTQiN5pFEI0Ewpnfim9ujNJrZRUJZQHpjJ9mGOeUoMzzIpW/oJRVCVWLZxQB6m/I9w8BfVHgq9/J+odLwnQ30/TaxzC+0gZcO54FYaoZJiYfAZEo5MoUUGqaxbhnpnKJfxYIKp5IvKjwvWfHwJ9etsxSKWTgBsKKFyYAhUIGCkjHmmfQQqc1hgoAIPbmRKpwuROjowBnR4eka75pKV4dSUUACC5kRwHXse4DNB1UIjUBAMyOmcqn2rHaCqjceD5MWcDPAhOUzD1vlmgRCCtePUBHgBlF08htpwRkPaNFQNrWKSY6H/b71d2AnyfwSZHMX+kooFK8hg3svQP0DUA+PAyUfyg4txayYQOuHV8G4YACqfsI466Zyh36C6gJqBav5b/A/6L5Gg7Rqy9kRUCneDXzTbtg7LwYeBV38qgvZEVAOvE5Bqo0xcfYcRy0NVlJ8/pNeOs3FE9WYwTvhEgWrpJu8WpTBrdATFyqfJRPj2q/BgDfhSyPUNmJLxIwq6XfszAvkWtb70A03DOmDojxgVzH+gLQoM65HmY/+wLXAUr3EKqB4mvEy9uiLg+cBdM+IsQ0TncdZfArACvmr59n/gBI/yFhhw0nkAAAAABJRU5ErkJggg==",gt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA3ZJREFUWEfFl01IG0EUx+dtV7NrsCZEjIotPVShhx6KCk3aguClUChepBSh1VC2YNAkYO019woJegv0myLFSy+FXoQeaiwYTz0UDIVSgxq/Gg9md5PtvHbElW3MZtfgx55Cdvb9f/O+Zh4Qm48kSTUOh6Od47grAOAhhNQBQB37HBHzhJA8Im5RSr+rqppOJBJFO6bBapEkSXVOp7OXUnoVAGqs1u8DFTmO+7a7uzubSCQYnOljChCNRvmdnR0fIeQGIjrsCJeuAQBV07Q5j8czH41GtXI2ygJEIhEREe8TQi5UI1z6DaX0l6Io78t54xCAJEmNTqdzABFdxyGu20DE35TS6ampqQ2j3f8AxsfH64vF4iNEPH+c4gaILVmWXxg9cQAwMjLi4Hl+CBG9JyFusLnscrne6DlxADA6OtrLcdzNExbfM08p/TI5OTnLfu8BhMNhFu8gIYQ/DQBCiMbzfHxiYmJ3DyAUCt0FgGtm4l6vt7m9vb1ncXHxgyzLSiVIURSFzs7OvnQ6/Tmbza5VWJuKx+Mfob+//1xLS8sTjuNMa727u/t2U1PTdVmW1+bn51+ZQTBxn883KIpi8/r6+teFhYVPZgCIqKysrEzA8PDw5dra2gGrXfn9/kFBEJrNIIziiqKsJZNJU1Bdq1AovINwOHyHENJlFXsmYAZRjfi+XgoikchDRLxkBcDel4Ng/+tut7tzXQsAfjIPsOxvtANQCqEoShYRGZj3qOL7epsQCoWeAoBgF8AAERAEoYkBqKqaTSaTL60qpFSDJWLVAD6fb4jtnBllnqgaoJoQGGKeZc2MecKqRE08vHnkJCxNOGbYqkTNwqsnoe0yNMv2SiVqkVsp243IqtSqgdhrRKwVt7a2jlWqBL0VW5WaEcKqFVNK1dXV1Wf6aVgxDOww6ujo6EmlUrYOo66urr6lpSV7hxGL0djYmFPTtPCZHccM4kwvJAyAXcNzudyD47oJVziGM263+/WhKxn7gA0hoig+BoATuZT+c/R2Pp9/XvZSqhMHg0EPz/MDAOA+yvlgtRYAcoSQt7FYbNu4tuxgwjwhCMI9juMuWhm2+X4ZAKZjsZhcut50NGP9oa2tzU8IuYWItmbCQ8YBVELIXCaTSc7MzPwpB2s5nAYCgfqGhoaeUx9OS2ntjOeU0g02nhcKhR92x/O/1x82n7rO6koAAAAASUVORK5CYII=",dt="_example_mkvg1_2",pt="_divider_mkvg1_11",ht="_messageDrop_mkvg1_204",ut="_messageBox_mkvg1_214",ft="_messageContent_mkvg1_223",Ct="_messageItem_mkvg1_223",xt="_redPot_mkvg1_229",At="_deleteIcon_mkvg1_232",St="_hoverArea_mkvg1_235",C={example:dt,divider:pt,"chint-theme-container":"_chint-theme-container_mkvg1_22","chint-theme-pro-table":"_chint-theme-pro-table_mkvg1_30","ant-row":"_ant-row_mkvg1_30","ant-col":"_ant-col_mkvg1_30","ant-pro-query-filter-actions":"_ant-pro-query-filter-actions_mkvg1_36","ant-space":"_ant-space_mkvg1_36","ant-space-item":"_ant-space-item_mkvg1_36","ant-pro-table-list-toolbar-container":"_ant-pro-table-list-toolbar-container_mkvg1_39","ant-pro-table-list-toolbar-right":"_ant-pro-table-list-toolbar-right_mkvg1_43","ant-pro-card":"_ant-pro-card_mkvg1_46","ant-pro-table-search":"_ant-pro-table-search_mkvg1_46","ant-pro-table-search-query-filter":"_ant-pro-table-search-query-filter_mkvg1_46","ant-tree-node-selected":"_ant-tree-node-selected_mkvg1_50","ant-tree-treenode-selected":"_ant-tree-treenode-selected_mkvg1_54","ant-tree-switcher-icon":"_ant-tree-switcher-icon_mkvg1_54","ant-modal-footer":"_ant-modal-footer_mkvg1_61","ant-modal":"_ant-modal_mkvg1_61","ant-btn":"_ant-btn_mkvg1_66","ant-table-wrapper":"_ant-table-wrapper_mkvg1_83","ant-table":"_ant-table_mkvg1_83","ant-table-tbody":"_ant-table-tbody_mkvg1_117","ant-pagination":"_ant-pagination_mkvg1_124","ant-pagination-item-active":"_ant-pagination-item-active_mkvg1_124","ant-steps":"_ant-steps_mkvg1_131","ant-steps-item-finish":"_ant-steps-item-finish_mkvg1_131","ant-steps-item-icon":"_ant-steps-item-icon_mkvg1_131","ant-steps-icon":"_ant-steps-icon_mkvg1_131","ant-card-head":"_ant-card-head_mkvg1_138","ant-tabs-card":"_ant-tabs-card_mkvg1_142","ant-tabs-top":"_ant-tabs-top_mkvg1_142","ant-tabs-nav":"_ant-tabs-nav_mkvg1_142","ant-tabs-tab-active":"_ant-tabs-tab-active_mkvg1_142","ant-table-selection-column":"_ant-table-selection-column_mkvg1_165","ant-checkbox-inner":"_ant-checkbox-inner_mkvg1_171","ant-checkbox-checked":"_ant-checkbox-checked_mkvg1_174","ant-checkbox-wrapper":"_ant-checkbox-wrapper_mkvg1_179","ant-input-affix-wrapper":"_ant-input-affix-wrapper_mkvg1_198","ant-input":"_ant-input_mkvg1_198",messageDrop:ht,messageBox:ut,messageContent:ft,messageItem:Ct,redPot:xt,deleteIcon:At,hoverArea:St};function bt(){const{t:s}=Q(),t=x(),[i,o]=p.useState([]),n=p.useRef(null),a=async()=>{const g=await v.getUnReadListApi(void 0,{}).catch(l=>{window.$message.error((l==null?void 0:l.message)||s("buComp.common.fdb.requestFailed"))}),{data:u}=g||{};o(u||[])};p.useEffect(()=>(a(),n.current=setInterval(a,5e3),()=>{n.current!==null&&(clearInterval(n.current),n.current=null)}),[]);const c=async g=>{g.stopPropagation(),console.log("readAll"),await v.setMessageReadApi({ids:i.map(l=>l.id)},{}).catch(l=>{window.$message.error((l==null?void 0:l.message)||s("buComp.common.fdb.requestFailed"))})!==void 0&&a()},m=g=>{g.stopPropagation(),t("/page/messageCenter")},r=async(g,u)=>{g.stopPropagation(),await v.setMessageReadApi({ids:[u]},{}).catch(h=>{window.$message.error((h==null?void 0:h.message)||s("buComp.common.fdb.requestFailed"))})!==void 0&&a()},d=[{key:"1",label:e.jsxs("div",{className:`${C.messageBox}`,children:[e.jsxs("div",{className:`w-full flex justify-between items-center pl-3 pr-3 mt-3 ${C.messageHeader}`,children:[e.jsx("span",{className:"text-[18px]",children:s("message.alarmMessage")}),e.jsxs("div",{className:"flex items-center",children:[e.jsxs("span",{className:"mr-3 cursor-pointer",onClick:c,children:[e.jsx(w,{name:"yidu",size:16,className:"mr-0.8"}),e.jsx("span",{className:"text-[14px] relative top-[-1px]",children:s("message.read")})]}),e.jsxs("span",{className:"cursor-pointer",onClick:m,children:[e.jsx(w,{name:"lishixiaoxi",size:16,className:"mr-0.8"}),e.jsx("span",{className:"text-[14px] relative top-[-1px]",children:s("message.histories")})]})]})]}),e.jsx("div",{className:`mt-2 ${C.messageContent}`,children:i.length?i.map(g=>{const{id:u,time:l,description:h}=g||{};return e.jsx("div",{className:`${C.messageItem} p-3`,children:e.jsxs("div",{className:"flex items-center justify-around",children:[e.jsx("img",{className:"w-[16px] h-[14px] mr-2",src:mt,alt:""}),e.jsx("span",{className:"mr-2 w-[170px] truncate",children:h}),e.jsx("span",{className:"w-[150px] mr-1",children:l}),e.jsxs("div",{className:`w-[15px] h-[15px] ${C.hoverArea}`,children:[e.jsx("span",{className:`w-[6px] h-[6px] rounded-[50%] bg-[#D54941] ${C.redPot}`}),e.jsx("img",{className:`${C.deleteIcon}`,src:gt,alt:"",onClick:f=>r(f,u)})]})]})},u)}):e.jsx(T,{image:T.PRESENTED_IMAGE_SIMPLE,className:"my-[50px]"})})]})}];return e.jsx(se,{count:i.length,overflowCount:99,children:e.jsx(j,{menu:{items:d},placement:"bottom",overlayClassName:`${C.messageDrop}`,children:e.jsx(J,{src:lt,className:"cursor-pointer w-10 h-10"})})})}const _t=te.div`
  color: ${s=>s.$customClass.localeTextColor};
  background-color: ${s=>s.$customClass.localeBgColor};
`,vt={localeTextColor:"var(--locale-text-color, #BBBBBB)",localeBgColor:"var(--locale-bg-color, #2A2D39)"},wt={onChangeLocale:()=>{}};function kt(s){var n;const{onChangeLocale:t=wt.onChangeLocale}=s,[i,o]=p.useState(A.getCurrentLocale());return e.jsx(j,{menu:{items:A.displayLocalesOptions,selectable:!0,selectedKeys:[i],onSelect:a=>{A.switchLanguage(a.key),o(a.key),t&&t(a.key)}},children:e.jsxs(_t,{className:"h-32px lh-32px  cursor-pointer py-10px px-12px rounded-8px min-w-80px flex justify-between items-center",$customClass:vt,children:[e.jsx("span",{className:"text-14px",children:((n=A.supportedLocalesOptions.find(a=>a.key===i))==null?void 0:n.label)||i}),e.jsx(ne,{className:"ml-7px w-12px"})]})})}function It(s){const t=x(),i=()=>{t(0)};return e.jsxs(oe,{gap:24,align:"center",children:[s.showI18n&&e.jsx(kt,{onChangeLocale:i}),s.showMessage&&e.jsx(bt,{}),s.showPersonal&&e.jsx(rt,{logout:s.logout})]})}function jt(s){const{appInfo:t,...i}=s;return e.jsxs("div",{className:"flex justify-between items-center pr-20px",children:[e.jsx(it,{appInfo:t}),e.jsx(It,{...i})]})}const Et="_layout_1c18o_8",yt="_bg_1c18o_27",Bt="_breath_1c18o_1",Nt="_collapse_1c18o_46",Tt="_editor_1c18o_1",L={layout:Et,bg:yt,breath:Bt,collapse:Nt,"main-box":"_main-box_1c18o_55",editor:Tt};window.$Components||(window.$Components=Ws);const{Header:Y,Sider:Pt,Content:M}=S,D=({isFullscreen:s})=>{const{pageId:t}=U(),{pathname:i}=I(),o=x(),n=a=>{if(a.key===t)return;const c=i.split("/").slice(0,2).join("/");o(`${c}/${a.key}`)};return e.jsx(Pt,{className:`${s?"hidden":"px-24px z-1 relative"}`,collapsible:!0,trigger:null,collapsedWidth:120,width:254,children:e.jsx("div",{className:"h-full flex flex-col gap-12px",children:e.jsx("div",{className:"flex-1 overflow-auto flex",children:e.jsx(Xs,{isApp:!0,click:n})})})})},O=({isFullscreen:s})=>{const{appConfig:t,visitRule:i}=k(a=>{const{authConfig:c,appConfig:m}=a,r=c?c.visitRule:1;return{appConfig:m,visitRule:r}}),{logout:o}=k(a=>({logout:a.logout})),{international:n}=t||{};return e.jsx(Y,{className:`${s?"hidden":""}`,children:e.jsx(jt,{appInfo:t,showI18n:n===de.ENABLE,showPersonal:i===1,showMessage:i===1,logout:o})})};function Ut(){const{layoutMode:s,pageLoading:t,breadcrumb:i}=k(b(a=>{var m;const{layout:c}=a.appConfig||{};return{layoutMode:c||1,pageLoading:a.pageLoading,breadcrumb:(m=a==null?void 0:a.appConfig)==null?void 0:m.breadcrumb}})),{setMode:o,isFullscreen:n}=E(a=>{var d,g;const{selectPageItem:c,page:m}=a,r=m[(c==null?void 0:c.id)||""]||{};return{setMode:a.setMode,isFullscreen:(g=(d=r==null?void 0:r.config)==null?void 0:d.props)==null?void 0:g.isFullscreen}});return ie(()=>{o("preview")}),e.jsx(ce,{spinning:t,children:e.jsx(F,{theme:{components:{Layout:{headerPadding:0,headerBg:"transparent",headerColor:"#333",siderBg:"transparent",bodyBg:"transparent"},Menu:{collapsedWidth:150}}},children:e.jsxs(S,{className:L.layout,children:[s===2?e.jsx(D,{isFullscreen:n,layoutMode:s}):e.jsx(O,{isFullscreen:n}),e.jsxs(S,{style:{paddingTop:s===2||n?"0px":"32px"},className:"relative",children:[s===2?e.jsx(O,{isFullscreen:n}):e.jsx(D,{isFullscreen:n,layoutMode:s}),e.jsx(M,{className:n?"":"mr-20px z-1 relative",style:{background:"transparent",borderRadius:"8px"},children:e.jsxs(S,{className:"h-full overflow-hidden box-border",children:[i===ge.ENABLE&&!n?e.jsx(Y,{className:"h-unset lh-unset mb-20px",children:e.jsx(et,{})}):null,e.jsx(M,{className:n?"overflow-hidden":"overflow-auto",children:e.jsx(re,{})})]})})]}),e.jsx("div",{className:L.bg})]})})})}export{Ut as Component};
